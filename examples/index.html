<!DOCTYPE html>
<html>
    <head>
        <script src="main.js"></script>

        <!-- GENERATED BOILERPLATE  -->
        <script>
            customElements.define("my-square", class extends HTMLElement {
                constructor() {
                    super();
                    this._elmData = null;
                    this._app = null;
                }

                adoptedCallback() {
                }

                connectedCallback() {
                    const that = this;
                    window.requestAnimationFrame(function() {
                        that._app = Elm.Square.init({
                            node: that,
                            flags: that.elmData,
                        });
                    });
                }

                disconnectedCallback() {
                }

                set elmData(value) {
                    this._elmData = value;
                    if (this._app) {
                        this._app.ports.elmDataChanged.send(value);
                    }
                }

                get elmData() {
                    return this._elmData
                }
            });
        </script>

        <!-- GENERATED BOILERPLATE  -->
        <script>
            customElements.define("my-container", class extends HTMLElement {
                constructor() {
                    super();
                    this._elmData = null;
                    this._app = null;
                }

                adoptedCallback() {
                }

                connectedCallback() {
                    const that = this;
                    window.requestAnimationFrame(function() {
                        that._app = Elm.Container.init({
                            node: that,
                            flags: that.elmData,
                        });
                    });
                }

                disconnectedCallback() {
                }

                set elmData(value) {
                    this._elmData = value;
                    if (this._app) {
                        this._app.ports.containerDataChanged.send(value);
                    }
                }

                get elmData() {
                    return this._elmData
                }
            });
        </script>
    </head>
    <body>
        <main></main>
        <script>
            var app = Elm.Main.init({
                node: document.querySelector("main"),
                flags: null,
            });
        </script>
    </body>
</html>
